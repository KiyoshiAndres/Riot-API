import requests
import apiKey

region1: str = "jp1"
region2: str = "asia"
summonerId: str = apiKey.Id
apiKey = apiKey.Key

# Need puuid to retrieve match list for a summoner
summonerDataURL: str = "https://" + region1 + ".api.riotgames.com/lol/summoner/v4/summoners/by-name/" + summonerId + "?api_key=" + apiKey
summonerData = requests.get(summonerDataURL).json()
puuid = summonerData["puuid"]


# List of ranked matches
summonerMatchesURL: str = "https://" + region2 + ".api.riotgames.com/lol/match/v5/matches/by-puuid/" + puuid + "/ids?api_key=" + apiKey
summonerMatches = requests.get(summonerMatchesURL, params= {"type": "ranked", "count": "10"}).json()
print(summonerMatches)

# MatchData
matchList = []
for match in summonerMatches:
    matchDataURL: str = "https://" + region2 + ".api.riotgames.com/lol/match/v5/matches/" + match + "?api_key=" + apiKey
    matchData = requests.get(matchDataURL).json()
    matchInfo = matchData["info"]
    participants = matchInfo["participants"]
    for participant in participants:
        if participant["summonerName"] == summonerId:
            matchList.append([match, participant["win"]])


# The output is an n-dimensional array of matches with win/loss in the nth position
# The first position is the match number, and one can add features like damage per minute to analyze later
print(matchList)
